import{ay as n,ah as i}from"./index-Boqrr96T.js";const h="https://fulbrightmathapi.onrender.com",c=async(r,s={})=>{const t=n.getState().token,a={"Content-Type":"application/json",...s.headers||{}};t&&(a.Authorization=`Bearer ${t}`);const o=await fetch(h+r,{method:s.method||"GET",...s,headers:a});if(!o.ok){o.status===401&&n.getState().logout();const l=(await o.json()).detail||o.statusText;throw new Error(`API Error ${l}`)}return o.json()},S=i(r=>({questionSet:null,fetchQuestionSet:async s=>{try{const t=await c(`/quiz-sets/getquizset/${s}`);r({questionSet:t})}catch(t){console.error("โหลดชุดคำถามไม่สำเร็จ:",t)}}})),d=i(r=>({classesWithSets:[],fetchClassesWithSets:async()=>{try{const[s,t]=await Promise.all([c("/classes/?skip=0&limit=1000"),c("/class-sets")]),a={};t.forEach(e=>{a[e.class_id]||(a[e.class_id]=[]),a[e.class_id].push(e)});const o=s.map(e=>({...e,sets:a[e.id]||[]}));r({classesWithSets:o})}catch(s){console.error("โหลด classes และ class_set ไม่สำเร็จ:",s)}}}));export{c as a,S as b,d as u};
